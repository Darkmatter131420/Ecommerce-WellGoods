### 请求头格式：

| Key           | Value        |
| ------------- | ------------ |
| Authorization | Bearer token |

##### 接口名称：

**不带*号**：公开

*****：需要用户登录（携带token）

******：需要管理员权限（携带token）

## 一、用户服务接口文档

#### **1. 用户注册**

- **接口地址**：`/register`
- **请求方式**：`POST`

##### 请求参数：

| 参数名称 |      参数说明      | 是否必须 | 数据类型 |
| :------: | :----------------: | :------: | :------: |
| username |        账号        |    是    |  String  |
| password |        密码        |    是    |  String  |
|   name   |       用户名       |    是    |  String  |
|   sex    | 性别（0-男，1-女） |    是    |  Number  |
|  phone   |      电话号码      |    是    |  String  |
| address  |        地址        |    否    |  String  |
|  avatar  |        头像        |    否    |  String  |

##### 响应数据

- 字段码Code：201

| 参数名称 |      参数说明      | 数据类型 |
| :------: | :----------------: | :------: |
| username |        账号        |  String  |
| password |        密码        |  String  |
|   name   |       用户名       |  String  |
|   sex    | 性别（0-男，1-女） |  Number  |
|  phone   |      电话号码      |  String  |
| address  |        地址        |  String  |
|  avatar  |        头像        |  String  |
|   _id    |        主键        |  Number  |

{

  "code": 201,

  "data": {},

  "message": "注册成功"

}



#### 2. 用户登录

- **接口地址**：`/login`
- **请求方式**：`POST`

##### 请求数据

| 参数名称 | 参数说明 | 是否必须 | 数据类型 |
| :------: | :------: | :------: | :------: |
| username |   账号   |    是    |  String  |
| password |   密码   |    是    |  String  |

##### 响应数据

| 参数名称 |      参数说明      | 数据类型 |
| :------: | :----------------: | :------: |
|   _id    |        主键        |  Number  |
| username |        账号        |  String  |
| password |        密码        |  String  |
|   name   |       用户名       |  String  |
|   sex    | 性别（0-男，1-女） |  Number  |
|  phone   |      电话号码      |  String  |
| address  |        地址        |  String  |
|  avatar  |        头像        |  String  |

{

  "code": 200,

  "data": {

​    "user": {},

​    "token": "${token}"

  },

  "message": "登录成功"

}



#### 3. 查询用户详情*

- **接口地址**：`/users/:id`
- **请求方式**：`GET`

##### 响应数据

| 参数名称 |      参数说明      | 数据类型 |
| :------: | :----------------: | :------: |
|   _id    |        主键        |  Number  |
| username |        账号        |  String  |
| password |        密码        |  String  |
|   name   |       用户名       |  String  |
|   sex    | 性别（0-男，1-女） |  Number  |
|  phone   |      电话号码      |  String  |
| address  |        地址        |  String  |
|  avatar  |        头像        |  String  |



#### 4. 修改用户信息*

- **接口地址**：`/users/:id`
- **请求方式**：`PUT`

##### 请求数据

|            字段            | 数据类型 |
| :------------------------: | :------: |
|          password          |  String  |
| permission[管理员权限修改] |  Number  |
|            name            |  String  |
|            sex             |  Number  |
|           phone            |  String  |
|          address           |  String  |
|           avatar           |  String  |

##### 响应数据

| 参数名称 |      参数说明      | 数据类型 |
| :------: | :----------------: | :------: |
| username |        账号        |  String  |
| password |        密码        |  String  |
|   name   |       用户名       |  String  |
|   sex    | 性别（0-男，1-女） |  Number  |
|  phone   |      电话号码      |  String  |
| address  |        地址        |  String  |
|  avatar  |        头像        |  String  |
|   _id    |        主键        |  Number  |



#### 5. 添加用户**

- **接口地址**：`/users`
- **请求方式**：`POST`

##### 请求数据

|  参数名称  |         参数说明         | 是否必须 | 数据类型 |
| :--------: | :----------------------: | :------: | :------: |
|  username  |           账号           |    是    |  String  |
|  password  |           密码           |    是    |  String  |
|    name    |          用户名          |    是    |  String  |
|    sex     |    性别（0-男，1-女）    |    是    |  Number  |
|   phone    |         电话号码         |    是    |  String  |
|  address   |           地址           |    否    |  String  |
|   avatar   |           头像           |    否    |  String  |
| permission | 权限（0-用户，1-管理员） |    否    |  Number  |

##### 响应数据

|  参数名称  |         参数说明         | 数据类型 |
| :--------: | :----------------------: | :------: |
|  username  |           账号           |  String  |
|  password  |           密码           |  String  |
| permission | 权限（0-用户，1-管理员） |  Number  |
|    name    |          用户名          |  String  |
|    sex     |    性别（0-男，1-女）    |  Number  |
|   phone    |         电话号码         |  String  |
|  address   |           地址           |  String  |
|   avatar   |           头像           |  String  |
|    _id     |           主键           |  Number  |

#### 6. 删除用户信息**

- **接口地址**：`/users/:id`
- **请求方式**：`DELETE`



#### 7. 查询全部用户**

- **接口地址**：`/users`
- **请求方式**：`GET`

##### 请求数据

Params（路径参数）

| 参数名称 | 说明     | 是否必须 |
| -------- | -------- | -------- |
| page     | 当前页数 | 否       |
| limit    | 每页数量 | 否       |

响应数据：用户集合







## 二、商品服务接口文档

#### 1. 查询商品详情

- **接口地址**：`/product/:id`
- **请求方式**：`GET`

##### 响应参数

| 参数名称    | 参数说明         | 数据类型     |
| ----------- | ---------------- | ------------ |
| _id         | 主键id           | Number       |
| name        | 商品名称         | String       |
| description | 商品描述         | String       |
| price       | 价格             | Decimal      |
| category    | 分类             | List<String> |
| merchant_id | 商家id（外键）   | Number       |
| picture     | 图片             | List<String> |
| create_time | 创建时间         | Date         |
| update_time | 更新时间         | Date         |
| merchant[2] | 商家（id和名称） |              |

